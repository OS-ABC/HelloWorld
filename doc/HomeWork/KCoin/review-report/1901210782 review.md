kcoin代码review
2019年11月8日-2019年11月14日
审查对象：
对于根据 用户信息查询 参与项目信息及所有相关用户信息


 发现问题/审查结果
根据需求，完成相关 sql 查询

修改过程： 完成相关查询，提供给后端工程师
WITH attend_project AS
(
SELECT DISTINCT(project_id) AS attended_pro_id from "K_User_in_Project"
where user_id in(
SELECT User_id  from "K_User"
where user_name='chen_cheng' 
)
)

SELECT a.project_name,a.project_url,a.project_cover_url,b.user_name,b.head_shot_url FROM

(SELECT project_id, project_name,project_url,project_cover_url FROM "K_Project" kpro
where kpro.project_id in 
(SELECT attended_pro_id FROM attend_project)
) a

LEFT JOIN 

(SELECT kuip.project_id,ku.user_name,ku.head_shot_url FROM "K_User_in_Project" kuip INNER JOIN "K_User" ku ON kuip.user_id=ku.user_id
where kuip.project_id in 
(SELECT attended_pro_id FROM attend_project)
) b

ON a.project_id=b.project_id

